{% extends 'base.html' %}

{% block title %}–ì–ª–∞–≤–Ω–∞—è - –°–∞–π—Ç –∑–Ω–∞–∫–æ–º—Å—Ç–≤{% endblock %}

{% block content %}
<div class="text-center mb-3">
    <h1>üíï –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ —Å–∞–π—Ç –∑–Ω–∞–∫–æ–º—Å—Ç–≤!</h1>
    <p class="text-secondary">–ù–∞–π–¥–∏—Ç–µ —Å–≤–æ—é –≤—Ç–æ—Ä—É—é –ø–æ–ª–æ–≤–∏–Ω–∫—É —Å—Ä–µ–¥–∏ —Ç—ã—Å—è—á –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
</div>

<!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
<div class="card mb-3">
    <h2 class="text-center mb-2">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</h2>
    <div class="profile-stats">
        <div class="profile-stat">
            <div class="profile-stat-value">{{ total_profiles }}</div>
            <div class="profile-stat-label">–í—Å–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª–µ–π</div>
        </div>
        <div class="profile-stat">
            <div class="profile-stat-value">{{ male_profiles }}</div>
            <div class="profile-stat-label">–ú—É–∂—á–∏–Ω</div>
        </div>
        <div class="profile-stat">
            <div class="profile-stat-value">{{ female_profiles }}</div>
            <div class="profile-stat-label">–ñ–µ–Ω—â–∏–Ω</div>
        </div>
    </div>
</div>

{% if user.is_authenticated %}
    {% if has_profile %}
        <!-- –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –æ–±—Ä–∞—Ç–Ω–æ -->
        <div class="alert alert-success">
            <h3>üëã –° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º, {{ user.username }}!</h3>
            <p>–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å –∞–∫—Ç–∏–≤–µ–Ω. –ù–∞—á–Ω–∏—Ç–µ –ø–æ–∏—Å–∫ –Ω–æ–≤—ã—Ö –∑–Ω–∞–∫–æ–º—Å—Ç–≤!</p>
            <div class="d-flex gap-2 mt-2">
                <a href="/profiles/search/" class="btn btn-primary">üîç –ò—Å–∫–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª–∏</a>
                <a href="/profiles/conversations/" class="btn btn-secondary">üí¨ –ú–æ–∏ —Å–æ–æ–±—â–µ–Ω–∏—è</a>
                <a href="/profiles/my/" class="btn btn-outline">üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</a>
            </div>
        </div>
    {% else %}
        <!-- –ü—Ä–∏–∑—ã–≤ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å -->
        <div class="alert alert-info">
            <h3>üöÄ –°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å!</h3>
            <p>–ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞, –≤–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å. –≠—Ç–æ –∑–∞–π–º–µ—Ç –≤—Å–µ–≥–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç!</p>
            <a href="/profiles/create/" class="btn btn-primary">‚ûï –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</a>
        </div>
    {% endif %}
{% else %}
    <!-- –ü—Ä–∏–∑—ã–≤ –∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
    <div class="alert alert-info">
        <h3>üéØ –ù–∞—á–Ω–∏—Ç–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!</h3>
        <p>–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏ –Ω–∞–π–¥–∏—Ç–µ —Å–≤–æ—é –ª—é–±–æ–≤—å —Å—Ä–µ–¥–∏ —Ç—ã—Å—è—á –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞—à–µ–≥–æ —Å–∞–π—Ç–∞.</p>
        <div class="d-flex gap-2 mt-2">
            <a href="/auth/register/" class="btn btn-primary">üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
            <a href="/auth/login/" class="btn btn-secondary">üîê –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç?</a>
        </div>
    </div>
{% endif %}

<!-- –ù–æ–≤—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ -->
{% if recent_profiles %}
<div class="card">
    <h2 class="text-center mb-2">üÜï –ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h2>
    <div class="profiles-grid">
        {% for profile in recent_profiles %}
        <div class="profile-card">
            {% if profile.primary_photo %}
                <img src="{{ profile.primary_photo.photo.url }}" alt="{{ profile.user.username }}" class="profile-photo">
            {% else %}
                <div class="profile-photo d-flex align-center justify-center" style="background: var(--border); color: var(--text-secondary); font-size: 4rem;">
                    {% if profile.gender == 'male' %}üë®{% elif profile.gender == 'female' %}üë©{% else %}üë§{% endif %}
                </div>
            {% endif %}
            
            <div class="profile-info">
                <h3 class="profile-name">{{ profile.user.username }}</h3>
                <div class="profile-age-location">
                    {% if profile.age %}{{ profile.age }} –ª–µ—Ç{% endif %}
                    {% if profile.city %}üìç {{ profile.city }}{% endif %}
                </div>
                
                {% if profile.about %}
                <p class="profile-description">{{ profile.about }}</p>
                {% endif %}
                
                {% if user.is_authenticated and has_profile %}
                <div class="profile-actions">
                    <a href="/profiles/view/{{ profile.id }}/" class="btn btn-primary btn-small">üëÄ –°–º–æ—Ç—Ä–µ—Ç—å</a>
                    <a href="/profiles/message/{{ profile.user.id }}/" class="btn btn-secondary btn-small">üíå –ù–∞–ø–∏—Å–∞—Ç—å</a>
                </div>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}

<!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –±–ª–æ–∫–∏ -->
<div class="grid grid-2 mt-3">
    <div class="card">
        <h3>üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h3>
        <p>–ú—ã –∑–∞–±–æ—Ç–∏–º—Å—è –æ –≤–∞—à–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –í—Å–µ –ø—Ä–æ—Ñ–∏–ª–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç –º–æ–¥–µ—Ä–∞—Ü–∏—é, –∞ –ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞–¥–µ–∂–Ω–æ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    </div>
    
    <div class="card">
        <h3>üí° –°–æ–≤–µ—Ç—ã –ø–æ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞–º</h3>
        <ul>
            <li>–ë—É–¥—å—Ç–µ —á–µ—Å—Ç–Ω—ã–º–∏ –≤ —Å–≤–æ–µ–º –ø—Ä–æ—Ñ–∏–ª–µ</li>
            <li>–î–æ–±–∞–≤—å—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–∏—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π</li>
            <li>–ü–∏—à–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è</li>
            <li>–ë—É–¥—å—Ç–µ –≤–µ–∂–ª–∏–≤—ã –∏ —Ç–µ—Ä–ø–µ–ª–∏–≤—ã</li>
        </ul>
    </div>
</div>

{% if not user.is_authenticated %}
<div class="text-center mt-3">
    <div class="card" style="background: linear-gradient(135deg, var(--primary-color), var(--primary-dark)); color: white;">
        <h3>‚ú® –ì–æ—Ç–æ–≤—ã –Ω–∞–π—Ç–∏ –ª—é–±–æ–≤—å?</h3>
        <p>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —Ç—ã—Å—è—á–∞–º —Å—á–∞—Å—Ç–ª–∏–≤—ã—Ö –ø–∞—Ä, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—à–ª–∏ –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –Ω–∞ –Ω–∞—à–µ–º —Å–∞–π—Ç–µ!</p>
        <a href="/auth/register/" class="btn" style="background: white; color: var(--primary-color); font-weight: 600;">
            üöÄ –ù–∞—á–∞—Ç—å –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞
        </a>
    </div>
</div>
{% endif %}
{% endblock %} 